{% trans_default_domain "Timetable" %}

{% extends "Default/template.html.twig" %}

{% form_theme form
    '@HillrangeForm/FormTheme/bootstrap.html.twig'
    '@HillrangeForm/FormTheme/jquery.collection.html.twig'
    'Timetable/Period/period.html.twig'
%}
{% block title %}{{ parent() }}{{ 'column.period.list.title'|trans }}{% endblock title %}

{% set headerOff = true %}
{% set fullPage = true %}
{% block contentContainer %}
    {% set transDomain = 'Timetable' %}
    {% set h3Content = closeButton()|raw %}
    {% set h3Content = h3Content ~ saveButton()|raw %}

    {% if header is not defined %}{% set header = 'column.period.list.title' %}{% endif %}
    {{ all_form_errors(fullForm, 'section') }}
    {{ form_start(form) }}
    {% include 'Page/panelStart.html.twig' with {'header': header} %}
        <div class="row">
            <div class="col-6 card">
                {{ form_row(form.name) }}
            </div>
            <div class="col-6 card">
                {{ form_row(form.code) }}
            </div>
        </div>
        <section id="periodCollection">
            {{ form_row(form.periods) }}
        </section>
    {% include 'Page/panelEnd.html.twig' %}
    {{ form_end(form) }}
{% endblock contentContainer %}

{% block javascripts %}
    {{ parent() }}
    {% include '@HillrangeForm/Script/jquery_collection.html.twig' %}
    {% include 'Script/monitorForm.html.twig' %}
    {% include '@HillrangeForm/Script/initiate_collection.html.twig' with {collection: form.periods, contentTarget: 'periodCollection'} %}
{% endblock javascripts %}
